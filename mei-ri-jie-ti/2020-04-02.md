# 2020-04-02

## 股票问题

> [https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/solution/yi-ge-fang-fa-tuan-mie-6-dao-gu-piao-wen-ti-by-lab/](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/solution/yi-ge-fang-fa-tuan-mie-6-dao-gu-piao-wen-ti-by-lab/)

##### 状态转移框架

> dp\[i\]\[k\]\[0\] = max\(dp\[i-1\]\[k\]\[0\], dp\[i-1\]\[k\]\[1\] + prices\[i\]\)
>
>               max\(   选择 rest  ,           选择 sell      \)

> 解释：今天我没有持有股票，有两种可能：
>
> 要么是我昨天就没有持有，然后今天选择 rest，所以我今天还是没有持有；
>
> 要么是我昨天持有股票，但是今天我 sell 了，所以我今天没有持有股票了。
>
>
>
> dp\[i\]\[k\]\[1\] = max\(dp\[i-1\]\[k\]\[1\], dp\[i-1\]\[k-1\]\[0\] - prices\[i\]\)
>
>               max\(   选择 rest  ,           选择 buy         \)
>
>
>
> 解释：今天我持有着股票，有两种可能：
>
> 要么我昨天就持有着股票，然后今天选择 rest，所以我今天还持有着股票；
>
> 要么我昨天本没有持有，但今天我选择 buy，所以今天我就持有股票了。
>
>
>
>
>
> ![](/assets/import-profit.png)

## 1 [309. 最佳买卖股票时机含冷冻期](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/)

> [https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/)
>
> dp\[i\]\[0\] = Max\(dp\[i-1\]\[0\], dp\[i-1\]\[1\] + price\)
>
> dp\[i\]\[1\] = Max\(dp\[i-1\]\[1\], dp\[i-2\]\[0\] - price\)
>
> pre0 代表昨天已经卖完，pre1代表昨天的持有，ppre0代表前天未持有

## 2 [714. 买卖股票的最佳时机含手续费](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/)

> [https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/](https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/)
>
> 卖出的时候收取收取手续费
>
> ```
> dp[i][0] = Math.max(dp[i - 1][0], dp[i - 1][1] + prices[i] - fee);
> dp[i][1] = Math.max(dp[i - 1][1], dp[i - 1][0] - prices[i]);
> ```



