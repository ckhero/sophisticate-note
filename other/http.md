## 建立连接  三次握手

|  |
| :--- |


| 字段 | 含义 |
| :--- | :--- |
| URG | 紧急指针是否有效。为1，表示某一位需要被优先处理 |
| ACK | 确认号是否有效，一般置为1。 |
| PSH | 提示接收端应用程序立即从TCP缓冲区把数据读走。 |
| RST | 对方要求重新建立连接，复位。 |
| SYN | 请求建立连接，并在其序列号的字段进行序列号的初始值设定。建立连接，设置为1 |
| FIN     | 希望断开连接。 |

> **ACK、SYN和FIN这些大写的单词表示标志位,**其值要么是1，要么是0；ack、seq小写的单词表示序号。
>
> 1 。c-&gt;s发起请求 SYN = 1， seq = x
>
>  2 s-&gt;c 我知道你发起请求了  SYN =1，ACK = 1，ack=x+1,seq = y
>
> 3 c-&gt;s  我知道你知道我发请求了 ACK  = 1,ack = y+1,seq=x+1

## 为什么要三次

> 假如第一次c的第一次请求由于网络 原因滞后到达服务器端，这时候虽然是一个失效的请求，但是服务端收到后建立请求，但这个时候客户端不会向服务端发起请求。浪费资源

## 关闭连接需要 四次握手

> http全双工，每个方向需要单独关闭



