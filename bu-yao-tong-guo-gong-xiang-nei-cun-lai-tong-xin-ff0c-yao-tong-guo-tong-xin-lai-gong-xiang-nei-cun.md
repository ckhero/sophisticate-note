# 不要通过共享内存来通信，要通过通信来共享内存

## 资料

> [https://blog.csdn.net/c359719435/article/details/78785189](https://blog.csdn.net/c359719435/article/details/78785189)

## 线程间通信的做法

> * 分配共享变量，多个线程通过修改这个变量来交换信息。本质上是共享一块内存
> * 通过队列来实现x消费者和生产者的模式来j进行通信 。队列本质上也是线程间共享 一块内存
> * 线程同步机制来控制线程之间的执行，比如同步锁，信号量，条件变量。共享变量以及队列也要用到线程同步机制来保证数据和通信的正确信
>
> 一般同步在线程之间交换的是控制信息，比如a释放了锁，b获得了锁，不交换数据。数据库的交换的通过共享内存。共享内存为了保证数据的安全和准确性，要通过加锁等同步机制。线程同步使用麻烦，容易造成死锁。过多的锁会造成线程的阻塞以及整个过程中上下文切换带来的额外开销。

### 小结

> 通过共享内存来通信，需要通过加锁等同步机制来保证数据 的准确信。加锁可能会导致死锁，线程阻塞，已经整个过程 中上下文切换 带来额外的 开销

## golang channel通信

> 需要报数据传个另外 一个协程的时候，只需要把数据封装成一个对象，然后把 整个对象的指针传入指定的channel，另外 一个协程从整个channel中读取即可



