# auto\_increment

> auto保存在内存中 ，重启后失效，8。0版本会写入redo log
>
>
>
> auto inc
>
>
>
> select max\(auto\_increment\_column\) from table 确定最大的自增id，能升不能屈会断层，不会自动回收。有可能 auto——incre 上限，但是实际上数据没有上限
>
> innodb\_autoinc\_lock\_mode  0\|1\|2  默认1 8.0默认2  标记锁 连续锁 交叉锁
>
>   简单插入  预知插入的行数
>
>   离散插入 不可以预知的插入行数
>
>   混合插入 部分指定inc key，部分不指定
>
>
>
>   0 表级锁 事务进来申请标记锁，获取需要的自增值，然后释放，不用等事务结束
>
>   1 连续锁 简单插入不会产生标记锁，按照插入的行数分配 自增值，
>
>           混合插入不产生表级锁，会按照顺序分配
>
>           离散插入产生表级锁
>
>
>
>   2 交叉锁  来一个分配一个，不会预分配



