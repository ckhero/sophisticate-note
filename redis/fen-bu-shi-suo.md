分布式锁

1. 保证高并发下z还有同一资源被同一线程修改
2. 高可用的获取锁和释放锁
3. 高性能的获取锁和释放锁
4. 具备可重入性
5. 具备失效机制，防止死锁
6. 具备非阻塞性，得不到锁直接返回

释放锁的时候保证释放的是自己的锁

  （ a,b，c线程进来。a加锁 处理超时，锁失效，b加锁处理，此时 a处理完成释放锁了b的锁，c线程获取锁成功。gg）

增加 重入性， key 线程标识 重入次数



> multi
>
> setnx key val
>
> expires key time
>
> exec

multi用来保证原子性，加时间防止死锁



